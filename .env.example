# =============================================================================
# CyberQuiz Environment Configuration
# =============================================================================
# Copy this file to .env and update the values for your environment
# DO NOT commit .env to version control - it contains sensitive information

# -----------------------------------------------------------------------------
# Database Configuration
# -----------------------------------------------------------------------------
DB_HOST=postgres
DB_PORT=5432
DB_NAME=cyberquiz
DB_USER=cyberquiz
DB_PASSWORD=CHANGE_ME_TO_SECURE_PASSWORD

# Full PostgreSQL connection URL (constructed from above)
DATABASE_URL=postgresql://${POSTGRES_USER}:${POSTGRES_PASSWORD}@${DB_HOST}:${DB_PORT}/${POSTGRES_DB}

# Postgres image variables (must match DB_* values above)
POSTGRES_DB=cyberquiz
POSTGRES_USER=cyberquiz
POSTGRES_PASSWORD=CHANGE_ME_TO_SECURE_PASSWORD

# -----------------------------------------------------------------------------
# Security & Authentication
# -----------------------------------------------------------------------------
# JWT Secret - MUST be at least 32 characters for production
# Generate a secure secret: openssl rand -base64 48
JWT_SECRET=CHANGE_ME_TO_RANDOM_STRING_MIN_32_CHARS

# JWT Token Expiry (default: 8h)
JWT_EXPIRY=8h

# Admin User Credentials (created automatically on first startup)
ADMIN_EMAIL=admin@cyberquiz.fr
ADMIN_PASSWORD=CHANGE_ME_TO_SECURE_PASSWORD

# -----------------------------------------------------------------------------
# Application Environment
# -----------------------------------------------------------------------------
# Set to 'production' for production deployments
NODE_ENV=development

# -----------------------------------------------------------------------------
# AI Provider Configuration
# -----------------------------------------------------------------------------
# Ollama (local LLM) base URL
OLLAMA_BASE_URL=http://ollama:11434

# Allow external AI providers like OpenAI (true/false)
ALLOW_EXTERNAL_AI=false

# OpenAI API Key (only if ALLOW_EXTERNAL_AI=true)
# OPENAI_API_KEY=sk-...

# -----------------------------------------------------------------------------
# Vector Database (Qdrant)
# -----------------------------------------------------------------------------
QDRANT_URL=http://qdrant:6333

# Optional: Qdrant API Key for authentication
# QDRANT_API_KEY=your-qdrant-api-key

# -----------------------------------------------------------------------------
# Logging Configuration
# -----------------------------------------------------------------------------
# Log level: debug | info | warn | error
LOG_LEVEL=info

# Log database queries (true/false) - useful for debugging
# LOG_QUERIES=false

# =============================================================================
# IMPORTANT NOTES FOR PRODUCTION:
# =============================================================================
# 1. Change ALL passwords and secrets to secure random values
# 2. Ensure JWT_SECRET is at least 32 characters
# 3. Set NODE_ENV=production
# 4. Consider enabling Qdrant API key authentication
# 5. Keep .env file secure and never commit it to version control
# 6. Review and adjust log levels for production
# =============================================================================